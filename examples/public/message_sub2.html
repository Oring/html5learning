<script>
  window.onmessage = function(e) {
    document.getElementById('data').innerHTML += e.data+'<br />';
  }
  function sendMessage(isParent) {
    if (isParent) window.parent.postMessage('frame_2: hello?', '*');
    else window.parent.document.getElementById('frame_1').contentWindow.postMessage('frame_2: hello?', '*');
  }
</script>
</head>
<body>
<button onclick="sendMessage(true);">부모창으로 보내기</button>
&nbsp;
<button onclick="sendMessage(false);">frame_1로 보내기</button>
<br />
<div id="data" style="border: 1px solid red; width: 300px; height: 180px; overflow: auto;"></div>